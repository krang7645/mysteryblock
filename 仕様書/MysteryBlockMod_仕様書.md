# ミステリーブロックMOD 仕様書

## 1. 概要

### 1.1 MODの目的
OneBlockスタイルのゲームプレイを、より柔軟でカスタマイズ可能な形で提供する。プレイヤーは1つのブロックから始まり、そのブロックを破壊・再生成することで様々なアイテムやブロックを入手し、世界を広げていく。

### 1.2 対象プラットフォーム
- Minecraft: 1.20.x
- Mod Loader: Forge
- 将来的にFabricへの対応も検討

## 2. 核となる機能

### 2.1 ミステリーブロック
- 特殊なブロック（ミステリーブロック）を追加
- 破壊時に様々なブロックやアイテムをドロップ
- 破壊後、自動的に再生成
- フェーズに応じて異なるドロップテーブルを使用

### 2.2 フェーズシステム
- 全10フェーズを実装
- 各フェーズで異なるドロップテーブル
- フェーズ進行条件：
  - ブロック破壊回数
  - 特定アイテムの収集
  - 特定の実績の達成

### 2.3 報酬システム
- 通常ドロップ：ブロック、アイテム
- レアドロップ：貴重なアイテム、MOB
- 特殊報酬：フェーズ進行時のボーナス報酬
- ドロップレート調整機能

## 3. フェーズ詳細

### フェーズ0：チュートリアル
- 基本的なブロック（土、石、木材）
- 基本的な資源（種、苗木）
- 生存に必要な最低限のアイテム

### フェーズ1：基本資源
- 一般的な鉱石（石炭、鉄、金）
- 基本的な建材
- 一般的なMOB

### フェーズ2：発展資源
- レアな鉱石（ダイヤモンド、エメラルド）
- ネザー関連アイテム
- より強力なMOB

### フェーズ3〜9：
- 段階的に難易度と報酬が上昇
- 各フェーズでテーマ性のある報酬
- 特殊なMOBや構造物の出現

### フェーズ10：エンドゲーム
- 最高レアリティの報酬
- エンドコンテンツへのアクセス
- 特別なボーナス報酬

## 4. 技術仕様

### 4.1 ブロック設定
- 耐久度：可変（フェーズに応じて）
- 再生成時間：カスタマイズ可能
- 破壊ツール：全ての道具で可能

### 4.2 データ構造
- JSON形式のドロップテーブル
- フェーズ進行データの永続化
- プレイヤー進捗の保存

### 4.3 設定項目
- ドロップレート調整
- フェーズ進行速度
- ブロック再生成時間
- 特殊報酬の出現確率

## 5. 拡張性

### 5.1 カスタマイズ機能
- カスタムドロップテーブル
- フェーズの追加・編集
- 進行条件のカスタマイズ

### 5.2 API提供
- 他MODとの連携用API
- イベントフック
- カスタム報酬の実装サポート

## 6. 開発フェーズ

### フェーズ1：プロジェクト基盤構築
- 開発環境セットアップ
- 基本設計書作成
- プロジェクト構造の確立

### フェーズ2：コア機能実装
- ミステリーブロックの基本機能
- ドロップシステムの実装
- フェーズシステムの基盤

### フェーズ3：フェーズコンテンツ実装
- 各フェーズのドロップテーブル
- 進行条件の実装
- 特殊報酬システム

### フェーズ4：UI/UX実装
- プレイヤーインターフェース
- 進捗表示
- 設定画面

### フェーズ5：拡張機能実装
- カスタマイズ機能
- API実装
- MOD連携機能

### フェーズ6：テストと最適化
- バグ修正
- パフォーマンス最適化
- バランス調整

### フェーズ7：ドキュメント作成
- ユーザーマニュアル
- API仕様書
- 開発者ガイド

## 7. 品質基準

### 7.1 パフォーマンス要件
- TPS低下の最小化
- メモリ使用量の最適化
- 再生成処理の効率化

### 7.2 安定性要件
- クラッシュ耐性
- データ永続化の信頼性
- エラーハンドリング

### 7.3 互換性要件
- 他MODとの競合回避
- バージョンアップ対応
- マルチプレイ対応

## 8. 将来の展開

### 8.1 計画されている機能
- Fabric版の開発
- 追加フェーズの実装
- マルチプレイ機能の拡張

### 8.2 検討中の機能
- カスタムチャレンジ
- 実績システム
- コミュニティ機能

## 9. 技術的な依存関係

### 9.1 必須依存
- Minecraft 1.20.x
- Forge ModLoader

### 9.2 オプション依存
- JEI（アイテム表示連携）
- WAILA/HWYLA（ブロック情報表示）

## 10. ライセンスと権利

### 10.1 MODライセンス
- MIT License
- ソースコードの公開
- 改変・再配布の許可

### 10.2 アセットライセンス
- テクスチャ：CC BY-SA 4.0
- サウンド：CC BY 4.0
- その他リソース：明記された個別ライセンスに従う